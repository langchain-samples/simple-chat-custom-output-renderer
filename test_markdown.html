<!DOCTYPE html>
<html>
<head>
    <title>Markdown Test</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <h1>Testing Markdown Rendering</h1>
    <div id="output"></div>

    <script>
        console.log('marked available?', typeof marked);
        console.log('marked.parse?', typeof marked.parse);
        console.log('marked()?', typeof marked);

        const testMarkdown = `
# Test Header

This is a test with a link: https://example.com

And some \`inline code\` here.

\`\`\`python
def hello():
    return "world"
\`\`\`

And **bold** and *italic* text.
`;

        try {
            if (typeof marked.parse === 'function') {
                const result = marked.parse(testMarkdown);
                console.log('Parsed with marked.parse():', result);
                document.getElementById('output').innerHTML = result;
            } else if (typeof marked === 'function') {
                const result = marked(testMarkdown);
                console.log('Parsed with marked():', result);
                document.getElementById('output').innerHTML = result;
            } else {
                console.error('Cannot find marked function');
            }
        } catch (e) {
            console.error('Error:', e);
            document.getElementById('output').innerHTML = 'Error: ' + e.message;
        }
    </script>
</body>
</html>
